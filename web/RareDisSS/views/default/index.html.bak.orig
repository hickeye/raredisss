{{left_sidebar_enabled=right_sidebar_enabled=False}}
{{extend 'layout.html'}}
<form name="sf">
 <div id="searchbar">
  <textarea id="q" name="q" onkeypress="return entertag(event);">{{=query}}</textarea><INPUT type="submit" class="button" value="Search" />
 </div>
 <INPUT type="checkbox" id="c" name="c" {{=collection}} onclick="this.form.submit();" /> Include genetic diseases &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 <INPUT type="checkbox" id="rer" name="rer" {{=reranking}} onclick="this.form.submit();" /> Use reranking algorithm &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 <INPUT type="checkbox" id="dis" name="dis" {{=diseases}} onclick="this.form.submit();" /> Include disease ranking <br>
</form>
<div id="target">{{=timer}}</div>
<div class="tabber">
 <div class="tabbertab" title="Articles">
  <div id="table">
   {{=table}}
  </div>
 </div>
 <div class="tabbertab" title="Diseases">
  <div id="distable">
   {{=distable}}
  </div>
 </div>
</div>
<br>
<form name="comments">
 <div id="commentbar">
  <textarea id="comment" name="comment" title="Enter your comments here"></textarea><INPUT type="button" class="button" value="Send feedback" onclick="ajax('{{=URL('feedback')}}',['comment'],'message');document.comments.comment.value='';"/>
 </div>
</form>
<div id="message"></div>
<script type="text/javascript"><!--
(function(a){a.fn.autoResize=function(j){var b=a.extend({onResize:function(){},animate:true,animateDuration:150,animateCallback:function(){},extraSpace:0,limit:1000},j);this.filter('textarea').each(function(){var c=a(this).css({resize:'none','overflow-y':'hidden'}),k=c.height(),f=(function(){var l=['height','width','lineHeight','textDecoration','letterSpacing'],h={};a.each(l,function(d,e){h[e]=c.css(e)});return c.clone().removeAttr('id').removeAttr('name').css({position:'absolute',top:0,left:-9999}).css(h).insertBefore(c)})(),i=null,g=function(){f.height(0).val(a(this).val()).scrollTop(10000);var d=Math.max(f.scrollTop(),k)+b.extraSpace,e=a(this).add(f);if(i===d){return}i=d;if(d>=b.limit){a(this).css('overflow-y','');return}b.onResize.call(this);b.animate&&c.css('display')==='block'?e.stop().animate({height:d},b.animateDuration,b.animateCallback):e.height(d)};c.unbind('.dynSiz').bind('keyup.dynSiz',g).bind('keydown.dynSiz',g).bind('change.dynSiz',g)});return this}})(jQuery);
function entertag(evt){ 
  var charCode = (evt.which) ? evt.which : event.keyCode; 
  if (charCode==13 && !evt.ctrlKey) {document.sf.submit(); return false;} 
  return true;
}

$('textarea#q').autoResize({/*options*/}).trigger('change');
$('textarea#comment').autoResize({/*options*/}).trigger('change');

//$(window).keydown(function (e) {
//  var charCode = (e.which) ? e.which : e.keyCode;
//  if (charCode==65 && e.ctrlKey) {$("tr").click();}
//  if (charCode==111 || charCode==191) {$('#q').focus(); return false;}
//}); 

//function enterfilter(value) {
    //var charCode = (evt.which) ? evt.which : evt.keyCode;
    //$('input#fword')[0].value += String.fromCharCode(charCode);
//    $.post("{{=URL(r=request,f='filterResults')}}",{fword:value},function(result){$("#table").html(result);});
    //return true;
//}
//function addFilterBox(curr_fword) {
//    var tmp = $('.fg-toolbar');
//    var val_curr_fword = "value='"+curr_fword+"'";
//    tmp[0].innerHTML += "<div class='filter_header'>Filter: <input id='fword' name='fword' type='text' onkeyup='enterfilter(this.value)' " + val_curr_fword +" /></div>"; 
//    return true;
//}
//$(document).ready(function () {
  //if ($('div#target').text() != "") {
  //  addFilterBox("''");
  //}
//  $('.dataTable').dataTable();
//  $("#tabs").tabs();
//});
-->
</script>
